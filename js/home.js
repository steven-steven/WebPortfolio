var projectJson = 
[{
    "projectName": "Earth Club",
    "skills": ["allSoftSkills", "communication", "teamwork", "criticalThinking", "creativityplanning", "volunteering"],
    "shortDescription": "(2012 to 2016) Member of Earth Club - Organizing Events",
    "longDescription": "As core member of the team I participate in fundrasing activities, organizing events and partnering with local NGOs. We creatively seek ways to improve our environment like composting, recycling, creating a garden, etc. Joining this club is part of my commitment and responsiblity to help build a more sustainable environment for the future.",
    "imgSrc": "resource/img/300x200/earthclub.jpg"
},
{
    "projectName": "Robotics",
    "skills": ["allTechnicalSkills", "robotics", "allSoftSkills", "communication", "teamwork", "criticalThinking", "leadership"],
    "shortDescription": "(Jan-Oct 2015) Learn programming and constructing LEGO robots. Joined Local to International FLL Competitions",
    "longDescription": "We took part in FLL World Competition in Australia 2015 representing Indonesia, 8th National ’Robotics Explorer’ Competition (1st place) & Indonesian Robotics Olympiad (2nd Place). Tons of fun was involved in solving challenges within the team",
    "imgSrc": "resource/img/300x200/Robotics.jpg"
},
{
    "projectName": "Film & Video Editing",
    "skills": ["allSoftSkills", "communication", "teamwork", "independence", "creativityplanning", "movieEditing", "leadership", "allHobbies"],
    "shortDescription": "Proficiency in Imovie and FinalCutPro. Was in Films & Visuals Club (2014-2016), working in teams to plan and produce short films.",
    "longDescription": "Joining the films and visuals club not only learn video editing skills, but to work with other members with their own unique skills (cameraman, actors, director). We also learned to support each other, organize, and plan the story line.",
    "imgSrc": "resource/img/300x200/fav.png"
},
{
    "projectName": "Basketball Team",
    "skills": ["allHobbies", "allSoftSkills", "teamwork", "communication", "sports"],
    "shortDescription": "(2013-2015) Position: Centre/Forward",
    "longDescription": "We won 2nd in the annual SWA-CUP inter-school tournament 2015. It taught me a life lesson as we learned to identify and cover each other's weaknesses, teamwork, and gaining my ability to grab quick reflexes in game situations. Most of all we had fun.",
    "imgSrc": "resource/img/300x200/Basketball.jpg"
},
{
    "projectName": "Running Club",
    "skills": ["allHobbies", "allSoftSkills", "teamwork", "communication", "sports", "leadership"],
    "shortDescription": "(2010-2016) Postion: Co-founder / Leader / Secretary",
    "longDescription": "Founded in 2010, we manage to develop into a group of 15 people consisting of teachers and students, which regularly run 5-15K twice a week. We aim to enhance stamina, learn to give support to others, and promote healthy lifestyle and the outdoors",
    "imgSrc": "resource/img/300x200/Running.jpg"
},
{
    "projectName": "National University Singapore Science Summer Camp",
    "skills": ["allSoftSkills", "communication", "teamwork", "criticalThinking", "academics", "leadership","allCertifications"],
    "shortDescription": "(2015) A Summer camp for students around the world who have passion for Science",
    "longDescription": "A wonderful experience experimenting with the university's great facilities (electron microscope & nanotechnology) and listening to lectures from great professors. It also taught significant pre-uni experience and a chance to meet amazing people and make connections from around the globe.",
    "imgSrc": "resource/img/300x200/nus.png"
},
{
    "projectName": "Advanturous Journey - Duke of Edinburgh’s International Award",
    "skills": ["allSoftSkills", "allHobbies", "sports", "communication", "awardFilter", "allCertifications", "creativityplanning", "teamwork", "leadership"],
    "shortDescription": "(2013) As part of the award, we went to an adventurous trip to Ujung Kulon National Park, Indonesia.",
    "longDescription": "In teams of three, we camped for a week with limited amount of food and water; in the wild.",
    "imgSrc": "resource/img/300x200/ia.jpg"
},
{
    "projectName": "Duke of Edinburgh’s International Award",
    "skills": ["allSoftSkills", "allHobbies", "sports", "communication", "awardFilter", "allCertifications", "creativityplanning", "teamwork", "leadership"],
    "shortDescription": "(2013) I completed the Bronze award.",
    "longDescription": "Is an award given to students around the world who completed 6 months of service work, learning new skills, physical recreation, and undergoing an adventurous journey. I learned to be a balanced learner, expand social connections, and teamwork. ",
    "imgSrc": "resource/img/300x200/iaAward.jpg"
},
{
    "projectName": "3D Modelling (personal project)",
    "skills": ["allSoftSkills", "independence", "allHobbies", "3dModelling", "creativityplanning"],
    "shortDescription": "(2014-2015) Took 3D modelling Classes. Experienced in Blender and 3DsMax. I also used this skill in a grade 10 IB personal project to design room interiors.",
    "longDescription": "Personal Project is an individual project in grade 10 MYP. I explored the area of interior design and 3D Modelling using Blender. I was able to create a 3D visualization of my design and presented it to the school. I also included an augmented reality which illustate the design to a physical object (ie.paper)",
    "imgSrc": "resource/img/300x200/3d.png"
},
{
    "projectName": "Drone",
    "skills": ["allHobbies", "drone", "creativityplanning", "independence"],
    "shortDescription": "(2015-present) Love shooting aerial videos with my Dji Phantom 4",
    "longDescription": "Learned a few photographic skills, and a lot about taking care of the drone and safety/ethical concerns that maybe involved (being responsible).",
    "imgSrc": "resource/img/300x200/drone.jpg"
},
{
    "projectName": "Group 4 Project Gold Medalist",
    "skills": ["allCertifications", "academics", "awardFilter", "communication", "teamwork"],
    "shortDescription": "(June 2015) Recognition of inquiry, collaboration and presentation skills",
    "longDescription": "Working in group of 4 taking different science courses (ESS, Chemistry, Physics, Biology), to solve a forensic investigation, and present our methodologies",
    "imgSrc": "resource/img/300x200/Group4Award.png"
},
{
    "projectName": "Honors in Physics",
    "skills": ["allCertifications", "academics", "awardFilter"],
    "shortDescription": "(June 2015) Best Student in Physics from the whole grade",
    "longDescription":"Awarded for my overall physics grade and performances in 11th grade",
    "imgSrc": "resource/img/300x200/honorsPhysic.png"
},
{
    "projectName": "NUS Science Quiz Award",
    "skills": ["allCertifications", "academics", "awardFilter"],
    "shortDescription": "(2015) 2nd Place amongst many teams participaing in the summer camp",
    "longDescription": "In a team of 3 we were awarded for our score in the quiz at the end of the summer camp",
    "imgSrc": "resource/img/300x200/nusaward.png"
},
{
    "projectName": "8th Nathional 'Robotics Explorer' Competition",
    "skills": ["allCertifications", "awardFilter", "allTechnicalSkills", "robotics"],
    "shortDescription": "(2015) 1st Place for Senior FLL Category",
    "longDescription": "In team of 2, we were awarded 1st for overall points in the robotic challenge",
    "imgSrc": "resource/img/300x200/roboticAward.jpg"
},
{
    "projectName": "Running 5K-15K runs",
    "skills": ["allhobbies", "sports"],
    "shortDescription": "Participate in over 15 short-marathons in 2014-2016",
    "longDescription": "Always enjoying every run, and strive for new time record everytime",
    "imgSrc": "resource/img/300x200/RunningCollection.png"
},
{
    "projectName": "Web Technology Award",
    "skills": ["htmlcss", "allTechnicalSkills", "allCertifications", "awardFilter"],
    "shortDescription": "(2015) Won 1st for a web programming competition held in school",
    "longDescription": "Created a website for a restaurant under 3 hours",
    "imgSrc": "resource/img/300x200/WebTechAward.png"
},
{
    "projectName": "International Baccalaureate Diploma",
    "skills": ["highSchool", "allCertifications"],
    "shortDescription": "(2016) Graduated under the IB Diploma Programme course",
    "longDescription": "Graduate High School and pass IB Diploma!!",
    "imgSrc": ""
},
{
    "projectName": "4-months work Coop at Intellisoft Development Inc",
    "skills": ["htmlcss", "net", "allTechnicalSkills", "communication", "teamwork", "allSoftSkills", "independence", "allSoftSkills"],
    "shortDescription": "(2017 Jan-Apr) Jr. Web Developer",
    "longDescription": "First work experience and learned a lot of cool web skills. Gained experience in a real work environment guided by a team of experienced developers.",
    "imgSrc": "" 
},
{
    "projectName": "UNSW ICAS Distinction Award for Digital Technologies",
    "skills": ["awardFilter", "academics", "allCertifications"],
    "shortDescription": "(2015) Distinction Award from International Competition Assessments for Schools (ICAS)",
    "longDescription": "top 10% in the country - this test is a standardized test worldwide marked by UNSW Australia",
    "imgSrc": "resource/img/300x200/unsw.png"
},
{
    "projectName": "Earth Club Website",
    "skills": ["chosen", "htmlcss", "allTechnicalSkills", "communication", "allSoftSkills", "independence", "creativityplanning"],
    "shortDescription": "(2015-2016) Built my first fully functional website for Earth Club as the client",
    "longDescription": "Was part of an IT project to find client, and completing the individual project following th SDLC life cycle",
    "imgSrc": "resource/img/300x200/earthClubWeb.png"
}
];


$(".pdfBlocker").click(function () {
    if (!$(this).hasClass("active")) {
        $(this).addClass("active");
    }
});
$(".pdfBlocker").mouseleave(function () {
    if ($(this).hasClass("active")) {
        $(this).removeClass("active");
    }
});

$("div.runFilterButton").click(function () {
    if ( $(".filteredSkills").hasClass("active")) {
        //$(this).removeClass("active");
        //Remove all skills
    } else {
        $(".filteredSkills").addClass("active");
        
    }

    var myNode = document.getElementsByClassName("filteredSkillsInner")[0];
    while (myNode.firstChild) {
        myNode.removeChild(myNode.firstChild);
    }

    displayskilledProjects();
});

$(".filteredSkills_header i").click(function () {
    $(".filteredSkills").removeClass("active");
});

function refreshListener() {
    $(".projectBox").unbind('mouseenter mouseleave')
    $(".projectBox").hover(function () {


        var selector = $(this).find(".projectHiddenDesc");

        if (!$(selector).hasClass('active')) {
            $(selector).addClass('active');

            var width = selector.prev().width();
            $(selector).css("width", width + "px");
        } else {
            $(selector).removeClass('active');
            $(selector).css("width", 0 + "px");
        }
    });
}
refreshListener();

console.log(savedIdList);
function displayskilledProjects() {
    var pickedProjects = ["ss"];
    if (programStorage != null) {
        for (var i = 0; i < programStorage.length; i++) {
            if (programStorage.key(i).includes(programStorageVariable)) {
                var currentKey = programStorage.key(i);
                var currentProgramID = currentKey.replace(programStorageVariable, "");

                console.log("saved id " + savedIdList[i])
                for (var j = 0; j < projectJson.length; j++) {
                    var projectObj = projectJson[j];
                    console.log(projectObj["projectName"]);
                    if (!pickedProjects.includes(projectObj["projectName"]) && projectObj["skills"].includes(currentProgramID)) {
                        pickedProjects.push(projectObj["projectName"]);
                        console.log("pushed");
                        var projectName = projectObj["projectName"];
                        var projectCaption = projectObj["shortDescription"];
                        var projectDesc = projectObj["longDescription"];
                        var projectImg = projectObj["imgSrc"];
                        var skills = projectObj["skills"].toString().replace(",", ", ");

                        var projectBoxHtml = '<div class="projectBox"><p class="projectTitle">' + projectName + '</p><div class="projectImg" style="background-image: url(' + projectImg + ')"></div><div class="projectHiddenDesc">' + projectDesc + '</div><p class="projectCaption">'
                        projectBoxHtml += projectCaption + '</p>';
                        if (true) {
                            projectBoxHtml += ' <a onclick="openModal(\'' + projectName + '\')"> Show More</a>';
                        }
                        projectBoxHtml += '</div>';
                        $(".filteredSkillsInner").append(projectBoxHtml); /*+ '<br/><br/>Skill Set: ' + skills*/
                        refreshListener();
                    }
                }
            }
        }
    }
    else {
        $(".filteredSkillsInner").append("<div class=\"noLocalStorage\">Oops, seems like this feature is currently not supported by your browser. I will be fixing this. Meanwhile try open the website on another browser (suggested: Google Chrome) </br> Sorry For the Inconvenience </br> - Steven </div>");
    }
    console.log(pickedProjects);
    
}

function openModal(projectName) {
    $('#myModal h4.modal-title').text(projectName);
    $("#myModal").modal();
}